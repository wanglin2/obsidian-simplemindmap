# v0.0.0

1：
保存为md格式的文件.smm.md，右上角更多菜单中支持切换为md格式编辑
节点超链接支持添加ob文件
拆分模式支持思维导图本身数据的同步，基本配置、设置之类的不能同步
点击右上角的保存按钮时会存储当前的预览图像，然后可以通过![[.smm.md]]嵌入md文档显示为图片，原文件修改后会实时同步，双击图片跳转到思维导图编辑
节点统计添加到底部状态栏
设置简单做了一个多语言设置

2：
思维导图和svg数据压缩编码后进行保存
修复右上角更多菜单中【打开为Markdown文档】菜单重复的问题
支持持久化思维导图中的设置
支持设置思维导图文件路径、图片文件路径、默认结构、默认主题、无操作自动保存时间
支持设置主题模式为：跟随ob、深色、浅色
标签页关闭前触发保存，避免数据丢失
节点图片、背景图片上传后保存到vault中，只存储文件路径，减少数据体积
节点图片支持选择vault中的图片
嵌入预览的数据由svg格式改为png格式，优点是保存的数据会小很多，缺点是没有svg高清
画布右键菜单中增加【复制为ob内链】菜单
保存按钮旁边增加保存中的提示
节点文本输入支持输入[[弹出选择ob文件的列表，支持插入链接
节点超链接弹窗中的ob文件支持搜索
提示信息由elementui切换为obsidian
tooltip由elementui切换为obsidian
主题色改为ob的主题色，非elementui组件的颜色支持随ob的主题色改变
右上角新增切换大纲编辑模式的按钮

3：
多语言
    跟随ob的设置
    完善插件代码多语言，支持中文、英文、越南语、繁体
节点图片上传弹窗支持直接从ob文件列表中拖拽图片
直接粘贴的图片也创建为文件添加到vault中
节点右键菜单新增【复制到ob内链】菜单，打开该内链时自动定位到该节点
内链 
    修改节点富文本内链链接的编辑方式，编辑过程中显示源码[[xxx]]，编辑完成后渲染为链接。支持带#、^、|后缀的内链
    统一处理节点超链接和节点文本中出现的ob内链，更新到md文档中
    修复节点文本中的内链插入时不同目录的同名文件无法区分的问题
    内链去重
支持在markdown文档嵌入smm语言的代码块：
    可简单编辑思维导图，快捷键功能都可用，支持富文本工具栏
    支持设置初始高度，支持拖拽调整高度
    操作按钮：回到根节点、适应画布
    命令：插入思维导图代码块到当前文档
节点文本选择文件弹窗支持键盘操作，上下方向键，回车键
修复小地图图片渲染异常的问题
修复演示模式报错的问题
大纲支持显示和添加内链
完善界面样式、布局、暗黑模式等

4.
导入smm、json、xmind文件转换base64格式的节点图片，存储到vault中
节点超链接图标区分ob文件和网页
导出为smm、json、xmind文件时转换ob路径的图片为base64
设置里增加提交issue和下载客户端的链接信息
没有可预览图片双击也可以跳转
超链接支持添加本地文件，选择的文件会上传到Vault中，存储路径可以在设置中修改
支持压缩上传的图片，是否开启压缩及压缩参数可在设置中修改
支持设置![[]]嵌入预览时双击是否新标签页打开
增加嵌入预览背景是否透明的设置
思维导图文件存储目录支持设置三种方式：仓库根目录、指定文件夹、当前文件所在的文件夹
图片文件存储目录、文件存储目录支持设置四种方式：仓库根目录、指定文件夹、当前文件所在的文件夹、当前文件所在文件夹下指定的子文件夹
支持设置新建思维导图文件名的前缀和日期时间戳格式
增加首次进入插件时的引导提示

5.
设置里支持扩展思维导图可用的字体列表
设置里的目录输入支持选择仓库目录
支持将md文档预览为思维导图，支持切换结构、主题，可导出为png、svg、pdf
设置里的结构选项列表适配多语言、只有一个的结构类型名称不用加索引
右上角新增切换为只读模式的图标按钮
如果思维导图中存在图片数据，那么嵌入的图形为png格式，否则为svg格式，svg嵌入图像支持背景透明
代码块嵌入支持设置背景是否透明
代码块嵌入支持切换结构、主题
按需引入组件，减小打包体积，修复对ob文档表格样式影响的问题

# v0.1.1
1.节点右键菜单新增【复制当前节点为图片到剪贴板】，可在ob文档里粘贴；
2.修复同时打开多个标签页编辑同一个文件时，在其中一个标签页中修改后，切换到其他标签页中会出现节点文字消失的问题；
3.修复同时打开多个标签页编辑同一个文件时，会出现文本编辑中删除键不生效的问题；
4.切换标签页时自动关闭思维导图界面上的一些状态，比如文本编辑状态、节点激活状态等等；
5.修复底部工具栏可能会和ob的状态栏重叠的问题；
6.默认主题设置区分浅色和深色模式；
7.思维导图视图的侧边栏设置中新增【是否显示底部工具栏】的设置；
8.拦截ob的Ctrl+S和Ctrl+F快捷键，修改为Ctrl+S触发思维导图保存，Ctrl+F触发显示思维导图搜索框；
9.增加进入演示模式的命令；
10.修复md文档![[]]嵌入时没有预览图像的情况下，此时更新图像预览图不会自动更新的问题；
11.![[]]嵌入后，如果文件被删除，增加文件已被删除的提示；
12.修复因获取文件新建目录错误导致会重复创建文件及快速点击新建图标会出现文件创建失败的问题；
13.修复嵌入预览在阅读模式下指定的宽高不生效的问题；
14.ob白板嵌入预览时居中显示，限制显示的最大宽高避免溢出；
15.支持excalidraw中以图像嵌入思维导图文件，但是显示尺寸目前存在问题；
16.新增【保存并更新图像】的命令和快捷键Ctrl+Shift+S；
17.修复节点备注侧边栏内容为空的问题；
18.按住Ctrl/Command键点击节点超链接，会在新标签页打开超链接；
19.修复导入解析不了的md文件时一直处于loading状态的问题，同时增加提示；

# v0.1.2
1.增加设置【是否允许在ob中搜索】。开启后会额外保存所有节点文本的内容到文件中用于搜索。点击搜索结果打开思维导图文件时会自动定位到该节点；
2.增加设置【检查新版本】。开启后会在插件启动时检查是否有新版本可用；
3.将Markdown文档【预览为思维导图】时过滤掉开头的YAML Frontmatter；
4.支持按住Shift键时鼠标滚轮左右移动画布；
5.导入Markdown及将Markdown文档【预览为思维导图】时支持解析Markdown中的网络图片；
6.优先渲染思维导图，然后加载页面UI，提升打开速度；
7.保留用户编辑的YAML数据；
8.支持把思维导图文档转换为Markdown文档；
9.支持把Markdown文档转换为思维导图文档；
10.备注的图片上传到Vault中，和节点图片保持一致；
11.适配手机端：1.左侧增加右键菜单图标；2.大纲编辑增加辅助按钮；3.左右拖动画布时禁止ob侧边栏显示；4.隐藏一些非必要的按钮；5.不显示新手引导；
12.支持从仓库或电脑本地拖拽文件到节点，如果是图片文件则以节点图片方式插入，否则为超链接；
13.修复右上角隐藏的搜索框会挡住画布和节点操作的问题；
14.修复在画布右侧或底部边缘编辑文本时，当文本编辑框范围超出边缘后整个画布及右边框、工具栏都会左移或上移的问题；
15.增加设置【存储画布位置和缩放数据】；
16.优化Markdown的导入和解析：如果解析出多个根节点，不是只返回第一个，而是再创建一个根节点来包裹；
17.将【复制节点为ob内链】操作中保存uid的符号由#改为#^；
18.开启【支持ob搜索】设置后保存节点uid的符号由#改为^；
19.在md中通过[[]]嵌入后在阅读模式下鼠标悬浮预览时图片自适应；

# v0.1.3
1.修复导入md时会出现undefined的问题；
2.增加设置【节点文字转markdown标题的最大层级】：小于该层级的节点文字会转为Markdown标题，其余的转为无序列表；
3.嵌入预览的图像数据默认改为以独立的文件存储：
    3.1.增加设置【预览图像数据是否以文件形式存储】，默认开启，即图像数据以svg文件形式存储在仓库中，思维导图文件中只存储路径。关闭则将图像数据以base64存储在文件中，文件体积会增大：
    3.2.在ob软件中删除思维导图文件时同步删除预览文件，如果是在电脑的文件系统中删除，则需要手动删除。其他一些情况下也可能无法自动删除；
4.修复大纲模式下保存会丢失用于搜索的文本数据的问题；
5.优化【逻辑结构图】结构的布局算法，加快渲染速度；优化【逻辑结构图】结构的概要节点和普通节点的位置冲突问题；修复概要节点尺寸改变后没有触发布局更新的问题；
6.思维导图文件和md文件的互相转换增加确认弹窗；
7.导入文件弹窗支持拖拽仓库或电脑本地文件进行导入；
8.支持在标题栏修改文件名；

# v0.1.4
1.修复只读模式下可以拖拽文件到节点上的问题；
2.节点文本编辑支持直接输入内链：
    2.1.编辑时连续输入[[会弹出ob文件列表，按键盘的上下键可切换选中的文件，按回车键可插入所选的文件，也可鼠标点击选择，支持搜索；
    2.2.文本编辑完成后[[]]格式会渲染为超链接样式，点击可打开链接的文件，ctrl+鼠标左键可新标签页打开；
    2.3.输入或粘贴的内链支持#、^、|三种格式；
3.新建思维导图文件命名格式设置修改，从两个设置选项改为一个，支持使用变量；
4.增加设置【粘贴图片的命名方式】，支持使用变量；
5.增加设置【新标签页打开节点链接】，默认开启；
6.所有弹窗隐藏掉右上角的关闭按钮，以及禁止点击弹窗外部关闭弹窗；
7.修复画布背景设置为透明时双击节点图片预览时画布背景会变为该图片的问题；
8.节点标签添加输入框右侧增加添加按钮；
9.导入弹窗增加提示信息；
10.基础样式-连线风格增加【括号】样式；
11.概要节点允许添加关联线、公式、附件；
12.导出为svg文件支持设置背景是否透明；
13.思维导图视图右侧设置侧边栏中对部分比较难以理解的设置选项增加提示信息；

# v0.1.5
新增：
1.支持创建自由节点；
2.节点文本内链编辑优化：1.支持解析别名、区块等；2.修复无法打开链接的问题；3.输入【【支持自动修改为[[并弹出文件选择列表；4.文件不存在则创建；
3.升级数学公式渲染库版本，提升渲染效果；
4.支持导入txt文件；
5.导入mm、xmind、txt、md、xlsx文件支持自动转换并渲染数学公式；
6.导出md文件优化：1.支持保留和解析加粗、斜体、删除线样式；2.支持保留和解析图标、标签、超链接、图片内容；3.优化概要和备注内容的保存，通过代码块包裹，导入支持解析，避免污染结构；
7.导出md、txt文件保留数学公式源码，便于导入识别；
8.导出为xmind文件时数学公式的前后增加$符号，便于导入识别；
9.拖拽调整节点宽度支持吸附到兄弟节点宽度；
10.彩虹线条由实例化选项改为主题配置中的字段，以支持不同的思维导图文件个性化；
11.节点样式侧边栏增加节点外边距的设置；
12.节点和画布右键菜单新增一键选择节点菜单；
13.节点右键菜单增加复制为纯文本菜单；
14.节点右键菜单中的创建节点、复制粘贴系列收起到二级菜单中；
15.新增对激活节点使用加粗、斜体、下划线、删除线、增大减小字体的快捷键（部分快捷键可能和ob快捷键冲突，导致不生效）；
16.侧边栏大纲：1.修复编辑完某个节点再立即上移节点层级时思维导图树更新大纲未更新的问题；2.修复在大纲中点击已激活节点时进行上移操作思维导图树更新大纲未更新的问题；3.大纲Tab快捷键改为下移节点层级；
17.全屏大纲编辑：1.修复编辑已存在或新建节点文本后再提升该节点层级时会导致该节点文本恢复为默认文本的问题；2.大纲Tab快捷键改为下移节点层级；
18.大纲编辑新增将当前节点光标后面的内容拆分创建为同级节点的能力和快捷键（快捷键可能和ob快捷键冲突，导致不生效）；
19.粘贴多行文本时支持保留层级和不保留层级两种方式创建节点；
20.开启自由拖拽后，支持按住Ctrl键忽略节点层级拖拽；
21.连线箭头样式设置：1.【基础样式】中支持设置箭头方向；2.【节点样式】中支持设置显示箭头；
22.节点备注编辑器由弹窗模式改为侧边模式；
23.支持配置图床；

修复/优化：
1.修复转换思维导图为md文件时会失败的问题；
2.修复右键菜单中点击新建思维导图会创建两个文件的问题；
3.修复在文件列表中先将smm文件右键【创建副本】，然后在对创建的副本点击转换为markdown文件失败的问题；
4.修复在其他md文件中![[]]嵌入思维导图文件后，同时打开且思维导图没有预览文件的情况下，编辑思维导图文件保存时会报错的问题；
5.修复修改脑图文件名、将思维导图转换为md文件操作没有同步修改预览svg文件名的问题；
6.修复修改脑图文件名时，文件元数据中的path字段没有立即更新的问题；
7.修复导出svg文件，背景图片没有按基础设置中设置进行拉伸的问题；
8.修复目录组织图节点冲突的问题；
9.修复节点文本输入了非法字符时导出图片、svg、pdf会失败的问题；
10.修复先在节点图片弹窗中上传图片,然后在基础设置中的背景图片中上传图片第一次会不生效的问题；
11.鱼骨图结构代码优化；优化节点外间距；
12.优化深色主题下编辑三级及以下节点文本时编辑框背景色和文字颜色相近导致看不清的问题；
13.导出弹窗中增加对导出excel文件的名称长度的校验和提示；
14.优化文件列表弹窗暗黑模式的样式；

# v0.1.6

修复ob审核提出的代码问题；

# v0.1.7
新增：
1.导出PDF：提升导出的清晰度、分页导出；
2.画布右键菜单新增【隐藏关联线】菜单；
3.激活关联线、外框时不立即弹出侧边栏，而是增加触发按钮

修复：
1.优化对pdf++插件的链接跳转支持；
2.优化内链的跳转；
3.修复直接拖拽图片文件到节点上时，上传到的是附件目录而不是图片目录的问题；
4.修复思维导图文件保存了预览图片后再修改文件名称，预览图片文件改变了，但是思维导图数据中的路径没有更新导致预览图无法显示的问题；
5.修复修改文件夹名称会导致文件夹下的所有文件被意外修改导致无法访问的问题；